#!/bin/bash
# ğŸ¤  SOPHIA AI Swarm Pre-commit Hook
# Blocks venv commits and other pollution

echo "ğŸ¤  SOPHIA AI Swarm pre-commit check..."

# Check for venv directories
if git diff --cached --name-only | grep -E "(venv/|\.venv/|env/|ENV/)" > /dev/null; then
    echo "âŒ BLOCKED: Virtual environment directories detected!"
    echo "Run: git reset HEAD venv* .venv* env* ENV*"
    exit 1
fi

# Check for backup files
if git diff --cached --name-only | grep -E "\.(backup|bak|old)$" > /dev/null; then
    echo "âŒ BLOCKED: Backup files detected!"
    echo "Remove backup files before committing"
    exit 1
fi

echo "âœ… Pre-commit checks passed!"
exit 0
