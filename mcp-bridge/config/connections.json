{
  "version": "1.0.0",
  "description": "MCP Bridge Configuration - Unified System for Sophia-Artemis",
  "last_updated": "2025-01-07",

  "ide_connections": {
    "claude_desktop": {
      "name": "Claude Desktop MCP Bridge",
      "description": "Claude Desktop connections for code and business operations",
      "enabled": true,
      "priority": "high",

      "mcp_servers": {
        "artemis_code_bridge": {
          "command": "python",
          "args": [
            "app/mcp/bridges/artemis_code_bridge.py",
            "--mode",
            "claude",
            "--domain",
            "artemis"
          ],
          "env": {
            "MCP_DOMAIN": "artemis",
            "MCP_CLIENT": "claude_desktop",
            "LOG_LEVEL": "INFO"
          },
          "priority": "code_operations",
          "capabilities": [
            "code_completion",
            "code_review",
            "refactoring",
            "test_generation",
            "documentation"
          ],
          "connection_config": {
            "timeout": 60,
            "retry_attempts": 3,
            "keep_alive": true
          }
        },

        "sophia_business_bridge": {
          "command": "python",
          "args": [
            "app/mcp/bridges/sophia_business_bridge.py",
            "--mode",
            "claude",
            "--domain",
            "sophia"
          ],
          "env": {
            "MCP_DOMAIN": "sophia",
            "MCP_CLIENT": "claude_desktop",
            "LOG_LEVEL": "INFO"
          },
          "priority": "business_operations",
          "capabilities": [
            "business_analysis",
            "market_research",
            "customer_insights",
            "strategic_planning",
            "revenue_analytics"
          ],
          "connection_config": {
            "timeout": 45,
            "retry_attempts": 3,
            "keep_alive": true
          }
        },

        "shared_knowledge_bridge": {
          "command": "python",
          "args": [
            "app/mcp/bridges/shared_knowledge_bridge.py",
            "--mode",
            "claude",
            "--domain",
            "shared"
          ],
          "env": {
            "MCP_DOMAIN": "shared",
            "MCP_CLIENT": "claude_desktop",
            "LOG_LEVEL": "INFO"
          },
          "priority": "knowledge_operations",
          "capabilities": ["knowledge_retrieval", "context_enrichment", "cross_domain_search"],
          "connection_config": {
            "timeout": 30,
            "retry_attempts": 2,
            "keep_alive": false
          }
        }
      },

      "routing_rules": {
        "default_domain": "sophia",
        "code_keywords": ["code", "function", "class", "bug", "refactor", "test"],
        "business_keywords": ["revenue", "customer", "sales", "market", "strategy"],
        "auto_routing": true
      }
    },

    "unified_agent_cli": {
      "name": "Unified AI Agent CLI",
      "description": "Unified CLI for Grok, Claude Coder, and Codex agents",
      "enabled": true,
      "priority": "high",

      "mcp_servers": [
        {
          "name": "unified-artemis-bridge",
          "endpoint": "ws://localhost:8001/mcp",
          "protocol": "websocket",
          "domain": "artemis",
          "priority": 1,
          "capabilities": ["code", "refactor", "analyze", "test", "debug", "document"],
          "connection_config": {
            "max_connections": 10,
            "connection_timeout": 30,
            "idle_timeout": 300,
            "reconnect": true,
            "reconnect_delay": 5
          }
        },

        {
          "name": "unified-sophia-bridge",
          "endpoint": "ws://localhost:8002/mcp",
          "protocol": "websocket",
          "domain": "sophia",
          "priority": 1,
          "capabilities": ["business_analysis", "integrations", "reporting"],
          "connection_config": {
            "max_connections": 5,
            "connection_timeout": 30,
            "idle_timeout": 300,
            "reconnect": true
          }
        },

        {
          "name": "unified-shared-bridge",
          "endpoint": "ws://localhost:8765/mcp",
          "protocol": "websocket",
          "domain": "shared",
          "priority": 2,
          "capabilities": ["memory", "search", "embeddings", "indexing"],
          "connection_config": {
            "max_connections": 5,
            "connection_timeout": 30,
            "idle_timeout": 300,
            "reconnect": true
          }
        }
      ],

      "agent_config": {
        "grok": {
          "model": "x-ai/grok-code-fast-1",
          "provider": "openrouter",
          "specialties": ["code_generation", "debugging", "review"]
        },
        "claude": {
          "model": "anthropic/claude-3.5-sonnet-20241022",
          "provider": "anthropic",
          "specialties": ["refactoring", "architecture", "complex_logic"]
        },
        "codex": {
          "model": "openai/gpt-4-turbo-preview",
          "provider": "openai",
          "specialties": ["testing", "documentation", "completion"]
        }
      }
    }
  },

  "global_settings": {
    "connection_pool": {
      "total_max_connections": 50,
      "per_ide_max_connections": 20,
      "connection_timeout_default": 30,
      "idle_timeout_default": 300
    },

    "health_monitoring": {
      "enabled": true,
      "check_interval": 30,
      "failure_threshold": 3,
      "auto_reconnect": true,
      "alert_on_failure": true
    },

    "performance": {
      "enable_caching": true,
      "cache_ttl": 300,
      "batch_requests": true,
      "batch_size": 10,
      "compression": "gzip"
    },

    "security": {
      "encryption": "tls",
      "authentication_required": true,
      "api_key_rotation": true,
      "rotation_interval_days": 30,
      "audit_logging": true
    },

    "logging": {
      "level": "INFO",
      "format": "json",
      "destination": "app/logs/mcp_bridge.log",
      "rotation": "daily",
      "retention_days": 30
    }
  },

  "failover_configuration": {
    "enabled": true,
    "strategies": {
      "artemis": {
        "primary": ["unified-artemis-bridge"],
        "fallback": ["unified-shared-bridge"],
        "health_check_endpoint": "/health"
      },
      "sophia": {
        "primary": ["unified-sophia-bridge"],
        "fallback": ["unified-shared-bridge"],
        "health_check_endpoint": "/health"
      }
    }
  },

  "optimization_rules": {
    "connection_reuse": true,
    "lazy_loading": true,
    "predictive_prefetch": true,
    "smart_routing": {
      "enabled": true,
      "learning_algorithm": "reinforcement",
      "optimization_metric": "latency"
    }
  }
}